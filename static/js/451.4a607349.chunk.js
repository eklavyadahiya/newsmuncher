"use strict";(self.webpackChunknews_muncher=self.webpackChunknews_muncher||[]).push([[451],{619:function(e,t,r){r(791);var n=r(87),a=r(184);t.Z=function(e){var t=e.guid,r=e.tags,c=e.date,s=e.publisher,i=e.parent_url,l=e.title,o=e.image,u=e.summary,d="/IN/article/".concat(t),h=r.slice(0,6),m=new Date(c).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return(0,a.jsxs)("div",{className:"h-screen w-full overflow-y-auto max-w-sm rounded overflow-hidden shadow-lg my-4 mx-auto",children:[(0,a.jsx)("img",{className:"w-full h-48 object-cover",src:o,alt:l}),(0,a.jsxs)("div",{className:"px-6 py-4",children:[(0,a.jsx)("p",{className:"font-bold text-m mb-2 text-red-700",children:m}),(0,a.jsxs)(n.rU,{to:d,className:"font-bold text-xl mb-2 text-blue-700 hover:text-blue-900",children:[" ",l]}),(0,a.jsx)("div",{className:"",children:(0,a.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)("p",{className:"mt-4 text-gray-700 text-sm font-bold text-base",children:[s," ",(0,a.jsx)("sup",{children:"\ud83d\udd17"})]})})}),(0,a.jsx)("p",{className:"mt-4 text-gray-700 text-base",children:u})]}),(0,a.jsx)("div",{className:"tag-container m-5",children:h.map((function(e,t){return(0,a.jsx)(n.rU,{to:"/IN/tag/".concat(e,"/"),className:"tag-link",children:e.replace(/-/g," ")},t)}))})]})}},451:function(e,t,r){r.r(t);var n=r(165),a=r(433),c=r(861),s=r(439),i=r(791),l=r(243),o=r(619),u=r(689),d=r(184);t.default=function(e){var t=e.apiEndpoint,r=(0,u.TH)(),h=(0,i.useState)([]),m=(0,s.Z)(h,2),f=m[0],v=m[1],p=(0,u.UO)(),g=p.country,x=p.tag,w=p.article,b=(0,i.useState)(null),y=(0,s.Z)(b,2),j=y[0],k=y[1],N=(0,i.useState)(!1),Z=(0,s.Z)(N,2),E=Z[0],_=Z[1],S=function(){var e="https://api.newsmuncher.com/api/",r="";switch(t){case"trending":r="".concat(e,"trending/").concat(g,"/");break;case"latest":r="".concat(e,"articles/").concat(g,"/");break;case"tag":r="".concat(e,"tags/").concat(g,"/tag/").concat(x);break;case"article":r="".concat(e,"article/").concat(w);break;default:console.error("Invalid API endpoint: ".concat(t))}return r},L=function(){var e=(0,c.Z)((0,n.Z)().mark((function e(){var t,r,c,s,i,o=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:S(),_(!0),e.prev=2,e.next=5,l.Z.get(t);case 5:r=e.sent,c=[].concat((0,a.Z)(f),(0,a.Z)(r.data.results)),s=new Set,i=c.filter((function(e){var t=!s.has(e.guid);return s.add(e.guid),t})),v(i),k(r.data.next),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Error fetching articles:",e.t0);case 16:return e.prev=16,_(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){L()}),[g,t,x,w]),(0,i.useEffect)((function(){var e=document.querySelector(".card-container-vertical"),t=function(){e.scrollTop+e.clientHeight>=e.scrollHeight-300&&!E&&j&&!E&&L(j)};return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}),[j,f,E]),(0,i.useEffect)((function(){var e=function(e){var t=document.querySelector(".card-container-vertical"),r=window.innerHeight;switch(e.keyCode){case 37:case 38:t.scrollBy({top:-r,behavior:"smooth"});break;case 39:case 40:t.scrollBy({top:r,behavior:"smooth"})}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),(0,i.useEffect)((function(){v([]),k(null),window.scrollTo(0,0),L()}),[r]),(0,d.jsxs)("div",{className:"h-screen w-full overflow-hidden",children:[(0,d.jsx)("h2",{className:"text-2xl mb-4 font-bold text-blue-700 absolute top-0 left-0",children:"Trending Articles"}),(0,d.jsxs)("div",{className:"card-container-vertical hide-scrollbar overflow-y-scroll",children:[f.map((function(e){return(0,d.jsx)("div",{className:"card-wrapper-vertical hide-scrollbar",children:(0,d.jsx)(o.Z,{title:e.title,image:e.top_image,summary:e.clean_summary,guid:e.guid,date:e.publish_date,publisher:e.site,parent_url:e.url,tags:e.tags})},e.guid)})),E&&(0,d.jsx)("p",{children:"Loading..."})]})]})}}}]);
//# sourceMappingURL=451.4a607349.chunk.js.map