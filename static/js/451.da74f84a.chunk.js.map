{"version":3,"file":"static/js/451.da74f84a.chunk.js","mappings":"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","sources":["components/Card.js","hooks/useArticleFetcher.js","hooks/useInfiniteScroll.js","hooks/useKeyboardNavigation.js","pages/TrendingPage.js"],"sourcesContent":["// src/components/Card.js\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Card({ guid, tags, date, publisher, parent_url, title, image, summary, country}) {\n  \n  const articleLink = `/${country}/article/${guid}`;\n  const displayedTags = tags.slice(0, 6);\n  const publishDate = new Date(date);\n  const options = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true // Use 12-hour format, set to false for 24-hour format\n  };\n  const humanReadableDate = publishDate.toLocaleDateString('en-GB', options);\n\n  return (\n    <div className=\"card-box\">\n    <div className=\"w-full max-w-2xl rounded overflow-hidden shadow-lg my-4 mx-auto\">\n      <img className=\"w-full h-48 object-cover\" src={image} alt={title} />\n      <div className=\"px-6 py-4\">\n      <p className=\"font-bold text-m mb-2 text-red-700\">{humanReadableDate}</p>\n        <Link to={articleLink} className=\"font-bold text-xl mb-2 text-blue-700 hover:text-blue-900\"> {/* Add Link here */}\n          {title}\n        </Link>\n        \n        <div className=\"\">\n        <a href={parent_url} target=\"_blank\" rel=\"noopener noreferrer\">\n          <p className=\"mt-4 text-gray-700 text-sm font-bold text-base\">{publisher} <sup>ðŸ”—</sup></p>\n      </a>\n      </div>\n        \n        <p className=\"mt-4 text-gray-700 text-base\">{summary}</p>\n\n\n      </div>\n        <div className=\"tag-container m-5\">\n        {displayedTags.map((tag, index) => (\n          <Link key={index} to={`/IN/tag/${tag}/`} className=\"tag-link\">\n            {tag.replace(/-/g, ' ')}\n          </Link>\n        ))}\n      </div>\n    </div>\n    </div>\n  );\n}\n\nexport default Card;\n","// src/hooks/useArticleFetcher.js\nimport { useRef, useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction useArticleFetcher(apiEndpoint) {\n  const [articles, setArticles] = useState([]);\n  const [nextUrl, setNextUrl] = useState(null);\n  const [isFetching, setIsFetching] = useState(false);\n  const fetchingLock = useRef(false);\n\n  const fetchArticles = async (url = nextUrl || apiEndpoint) => {\n    if(fetchingLock.current) return;\n    fetchingLock.current = true;\n    setIsFetching(true);\n\n    try {\n      const response = await axios.get(url);\n      setNextUrl(response.data.next);\n\n      setArticles(prevArticles => {\n        const newArticles = [...prevArticles, ...response.data.results];\n        const uniqueGUIDs = new Set();\n        return newArticles.filter(article => {\n          const isUnique = !uniqueGUIDs.has(article.guid);\n          uniqueGUIDs.add(article.guid);\n          return isUnique;\n        });\n      });\n    } catch (error) {\n      console.error(\"Error fetching articles:\", error);\n    } finally {\n      setIsFetching(false);\n      fetchingLock.current = false;\n    }\n  };\n\n  const loadMoreData = () => {\n    if (nextUrl && !isFetching) {\n        fetchArticles(nextUrl);\n    }\n  };\n\n  useEffect(() => {\n    fetchArticles();\n  }, [apiEndpoint]);\n\n  return { articles, isFetching, loadMoreData, setIsFetching, setArticles };\n}\n\nexport default useArticleFetcher;\n","import { useEffect } from 'react';\n\nconst useInfiniteScroll = (scrollRef, loadMoreData) => {\n  useEffect(() => {\n    const handleScroll = () => {\n      if (scrollRef.current) {\n        const { scrollTop, clientHeight, scrollHeight } = scrollRef.current;\n        if (scrollTop + clientHeight >= scrollHeight - 700) {\n          loadMoreData();\n        }\n      }\n    };\n    \n    const container = scrollRef.current;\n    container && container.addEventListener('scroll', handleScroll);\n\n    return () => {\n      container && container.removeEventListener('scroll', handleScroll);\n    };\n  }, [scrollRef, loadMoreData]);\n};\n\nexport default useInfiniteScroll;","import { useEffect } from 'react';\n\nconst useKeyboardNavigation = (scrollRef) => {\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      const container = scrollRef.current; \n      const scrollAmount = window.innerHeight; \n  \n      switch (e.keyCode) {\n        case 37: // left arrow\n        case 38: // up arrow\n          container && container.scrollBy({\n            top: -scrollAmount,\n            behavior: 'smooth',\n          });\n          break;\n        case 39: // right arrow\n        case 40: // down arrow\n          container && container.scrollBy({\n            top: scrollAmount,\n            behavior: 'smooth',\n          });\n          break;\n        default:\n          break;\n      }\n    };\n  \n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [scrollRef]);\n};\n\nexport default useKeyboardNavigation;","// src/pages/TrendingPage.js\nimport { React, useRef }  from 'react';\nimport { useParams } from 'react-router-dom';\nimport useArticleFetcher from '../hooks/useArticleFetcher';\nimport Card from '../components/Card';\nimport useInfiniteScroll from '../hooks/useInfiniteScroll';\nimport useKeyboardNavigation from '../hooks/useKeyboardNavigation';\n\nfunction TrendingPage() {\n  const { country } = useParams();\n  const apiEndpoint = `https://api.newsmuncher.com/api/trending/${country}`;\n  const { articles, isFetching, loadMoreData } = useArticleFetcher(apiEndpoint);\n  const scrollRef = useRef(null);\n  \n  useKeyboardNavigation(scrollRef);\n  useInfiniteScroll(scrollRef, loadMoreData);\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold text-blue-700\">Trending Articles</h2>\n        </div>\n      <div ref={scrollRef} className=\"card-container-vertical\">\n        {articles.map(article => (\n          <div key={article.guid} className=\"card-wrapper-vertical\">\n            <Card \n              country={country}\n              title={article.title} \n              image={article.top_image} \n              summary={article.clean_summary}\n              guid={article.guid}\n              date={article.publish_date}\n              publisher={article.site}\n              parent_url={article.url}\n              tags={article.tags}\n            />\n          </div>\n        ))}\n        {isFetching && <p></p>}\n      </div>\n    </div>\n  );\n}\n\nexport default TrendingPage;\n"],"names":["_ref","guid","tags","date","publisher","parent_url","title","image","summary","country","articleLink","concat","displayedTags","slice","humanReadableDate","Date","toLocaleDateString","year","month","day","hour","minute","hour12","_jsx","className","children","_jsxs","src","alt","Link","to","href","target","rel","map","tag","index","replace","apiEndpoint","_useState","useState","_useState2","_slicedToArray","articles","setArticles","_useState3","_useState4","nextUrl","setNextUrl","_useState5","_useState6","isFetching","setIsFetching","fetchingLock","useRef","fetchArticles","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","_args","arguments","wrap","_context","prev","next","length","undefined","current","abrupt","axios","get","sent","data","prevArticles","newArticles","_toConsumableArray","results","uniqueGUIDs","Set","filter","article","isUnique","has","add","t0","console","error","finish","stop","apply","useEffect","loadMoreData","scrollRef","handleScroll","_scrollRef$current","scrollTop","clientHeight","scrollHeight","container","addEventListener","removeEventListener","handleKeyDown","e","scrollAmount","window","innerHeight","keyCode","scrollBy","top","behavior","useParams","_useArticleFetcher","useArticleFetcher","useKeyboardNavigation","useInfiniteScroll","ref","Card","top_image","clean_summary","publish_date","site"],"sourceRoot":""}