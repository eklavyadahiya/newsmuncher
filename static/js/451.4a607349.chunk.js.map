{"version":3,"file":"static/js/451.4a607349.chunk.js","mappings":"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","sources":["components/Card.js","pages/TrendingPage.js"],"sourcesContent":["// src/components/Card.js\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Card({ guid, tags, date, publisher, parent_url, title, image, summary }) {\n  \n  const articleLink = `/IN/article/${guid}`;\n  const displayedTags = tags.slice(0, 6);\n  const publishDate = new Date(date);\n  const options = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: true // Use 12-hour format, set to false for 24-hour format\n  };\n  const humanReadableDate = publishDate.toLocaleDateString('en-GB', options);\n\n  return (\n    <div className=\"h-screen w-full overflow-y-auto max-w-sm rounded overflow-hidden shadow-lg my-4 mx-auto\">\n      <img className=\"w-full h-48 object-cover\" src={image} alt={title} />\n      <div className=\"px-6 py-4\">\n      <p className=\"font-bold text-m mb-2 text-red-700\">{humanReadableDate}</p>\n        <Link to={articleLink} className=\"font-bold text-xl mb-2 text-blue-700 hover:text-blue-900\"> {/* Add Link here */}\n          {title}\n        </Link>\n        \n        <div className=\"\">\n        <a href={parent_url} target=\"_blank\" rel=\"noopener noreferrer\">\n          <p className=\"mt-4 text-gray-700 text-sm font-bold text-base\">{publisher} <sup>ðŸ”—</sup></p>\n      </a>\n      </div>\n        \n        <p className=\"mt-4 text-gray-700 text-base\">{summary}</p>\n\n\n      </div>\n        <div className=\"tag-container m-5\">\n        {displayedTags.map((tag, index) => (\n          <Link key={index} to={`/IN/tag/${tag}/`} className=\"tag-link\">\n            {tag.replace(/-/g, ' ')}\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","// src/pages/TrendingPage.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Card from '../components/Card';\nimport { useLocation, useParams } from 'react-router-dom';\n\n\nfunction TrendingPage({ apiEndpoint }) {\n  const location = useLocation();\n  const [articles, setArticles] = useState([]);\n  const { country, tag, article } = useParams();\n  const [nextUrl, setNextUrl] = useState(null);\n  const [isFetching, setIsFetching] = useState(false);\n\n  const getEndpointURL = () => {\n    // Base URL for the API\n    const baseUrl = 'https://api.newsmuncher.com/api/';\n    let endpoint = '';\n  \n    switch (apiEndpoint) {\n      case 'trending':\n        endpoint = `${baseUrl}trending/${country}/`;\n        break;\n      case 'latest':\n        endpoint = `${baseUrl}articles/${country}/`;\n        break;\n      case 'tag':\n        endpoint = `${baseUrl}tags/${country}/tag/${tag}`;\n        break;\n      case 'article':\n        endpoint = `${baseUrl}article/${article}`; // Assuming `article` param is the `guid`\n        break;\n      default:\n        // Handle any other case or throw an error\n        console.error(`Invalid API endpoint: ${apiEndpoint}`);\n    }\n  \n    return endpoint;\n  };\n  \n  const fetchTrendingArticles = async (url = getEndpointURL()) => {\n    setIsFetching(true);\n    try {\n      const response = await axios.get(url);\n  \n      // Combine the current articles with the newly fetched ones\n      const combinedArticles = [...articles, ...response.data.results];\n      \n      // Create a new Set to keep track of unique GUIDs\n      const uniqueGUIDs = new Set();\n      const uniqueArticles = combinedArticles.filter(article => {\n        const isUnique = !uniqueGUIDs.has(article.guid);\n        uniqueGUIDs.add(article.guid);\n        return isUnique;\n      });\n  \n      // Update the state with the unique articles\n      setArticles(uniqueArticles);\n  \n      setNextUrl(response.data.next);\n    } catch (error) {\n      console.error(\"Error fetching articles:\", error);\n    } finally {\n      setIsFetching(false);\n    }\n  };\n  \n    // eslint-disable-next-line\n  const loadMoreData = () => {\n    if (nextUrl && !isFetching) {\n      fetchTrendingArticles(nextUrl);\n    }\n  };\n\n  useEffect(() => {\n    fetchTrendingArticles();\n  }, [country, apiEndpoint, tag, article]);\n\n  useEffect(() => {\n    const container = document.querySelector('.card-container-vertical');\n\n    const handleScroll = () => {\n      if (container.scrollTop + container.clientHeight >= container.scrollHeight - 300 && !isFetching) {\n        loadMoreData();\n      }\n    };\n\n    container.addEventListener('scroll', handleScroll);\n\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [nextUrl, articles, isFetching]); \n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      const container = document.querySelector('.card-container-vertical'); \n      const scrollAmount = window.innerHeight; \n  \n      switch (e.keyCode) {\n        case 37: // left arrow\n        case 38: // up arrow\n          container.scrollBy({\n            top: -scrollAmount,\n            behavior: 'smooth',\n          });\n          break;\n        case 39: // right arrow\n        case 40: // down arrow\n          container.scrollBy({\n            top: scrollAmount,\n            behavior: 'smooth',\n          });\n          break;\n        default:\n          break;\n      }\n    };\n  \n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Reset the state when the location changes\n    setArticles([]);\n    setNextUrl(null);\n  \n    // Optionally scroll to top\n    window.scrollTo(0, 0);\n  \n    // Then fetch new articles\n    fetchTrendingArticles();\n  }, [location]); // Watch the entire location object\n\n  return (\n    <div className=\"h-screen w-full overflow-hidden\">\n      <h2 className=\"text-2xl mb-4 font-bold text-blue-700 absolute top-0 left-0\">Trending Articles</h2>\n      \n      <div className=\"card-container-vertical hide-scrollbar overflow-y-scroll\">\n        {articles.map(article => (\n          <div key={article.guid} className=\"card-wrapper-vertical hide-scrollbar\">\n            <Card \n              title={article.title} \n              image={article.top_image} \n              summary={article.clean_summary}\n              guid={article.guid}\n              date={article.publish_date}\n              publisher={article.site}\n              parent_url={article.url}\n              tags={article.tags}\n            />\n          </div>\n        ))}\n        {isFetching && <p>Loading...</p>}\n      </div>\n    </div>\n  );\n}\n\nexport default TrendingPage;\n"],"names":["_ref","guid","tags","date","publisher","parent_url","title","image","summary","articleLink","concat","displayedTags","slice","humanReadableDate","Date","toLocaleDateString","year","month","day","hour","minute","hour12","_jsxs","className","children","_jsx","src","alt","Link","to","href","target","rel","map","tag","index","replace","apiEndpoint","location","useLocation","_useState","useState","_useState2","_slicedToArray","articles","setArticles","_useParams","useParams","country","article","_useState3","_useState4","nextUrl","setNextUrl","_useState5","_useState6","isFetching","setIsFetching","getEndpointURL","baseUrl","endpoint","console","error","fetchTrendingArticles","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","combinedArticles","uniqueGUIDs","uniqueArticles","_args","arguments","wrap","_context","prev","next","length","undefined","axios","get","sent","_toConsumableArray","data","results","Set","filter","isUnique","has","add","t0","finish","stop","apply","useEffect","container","document","querySelector","handleScroll","scrollTop","clientHeight","scrollHeight","addEventListener","removeEventListener","handleKeyDown","e","scrollAmount","window","innerHeight","keyCode","scrollBy","top","behavior","scrollTo","Card","top_image","clean_summary","publish_date","site"],"sourceRoot":""}